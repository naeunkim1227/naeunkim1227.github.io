---
layout: post
title: java 네트워크 프로그래밍- 01. 네트워크와 소켓이해
subtitle: java
categories: java
tags: [java,개념]
---


**post 2021-09-14**

# 네트워크와 프로그래밍 - 01. 네트워크와 소켓이해

## 1.네트워크와 네트워킹

1. 네트워크 :  유무선으로 연결되어 있는 Device들의 집합
2. 디바이스 : 네트워크에 연결되어 있는 것들을 총칭한 것
3. 네트워킹 :  네트워크에 연결된 디바이스들 간에 미리 약속된 프로토콜을 사용하여 데이터를 교환 하는 것
4. 프로토콜 : 통신규약, 디바이스 상호간 데이터 통신을 위해 필요한 규약
5. 데이터 통신 방법 
    * 유/무선을 통해 네트워크에 연결
    * 두 디바이스가 데이터 통신을 하기 위해서는 서로의 위치를 알아야 하는데, 이 위치를 node라고 부른다. node마다 고유의 주소를 가지고 있어야 한다.
    * 데이터 통신을 할때는 데이터 외에 어디로, 누가 보내는 지에 대한 정보를 가지고 있어야한다.
    * packet을 사용하여 데이터 통신을 한다.
        1. header: 송/수신자의 주소, 체크썸 그리고 여러 제어 정보
        2. body: 전송할 데이터를 byte단위로 포함

## 2.Internet

1. 인터넷의 이해 :
    1. tcp/ip 기반의 네트워크가 전세계적으로 확대되어 하나로 연결된 네트워크들의 네트워크(네트워크의 결합체)
    2. OSI7계층과 TCP/IP 4계층
        1. 하드웨어,운영체계,접속 매체와 관계없이 동작할 수 있는 개방형 구조
        2. OSI7 계층에서 4계층으로 단순화
            * 응용계층 : 네트워크를 사용하는 www,FTP,SMTP등의 응용 프로그램으로 구성
            * 전송계층: 도착지까지 데이터를 전송, TCP 프로토콜을 이용하여 데이터를 전송
            * 인터넷 계층 : 데이타를 정의 및 경로 지정,  정확한 라우팅을 위해 IP프로토콜을 사용
            * 링크 계층 : 물리적 계층, 즉 이더넷 카드와 같은 하드웨어
2. 계층과 프로토콜
    1. 링크계층
        * 호스트 간의 네트워크를 통한 데이터 통신을 위한 물리적 연결에 대한 표준
        * 상위계층인 internat 계층에서 형성된 패킷을 전기신호 또는 광신호로 바꾸어 전달하는 역할을 담당한다.
    2. 인터넷계층
        * link계층을 통해 물리적으로 연결된 각 host간의 v패킷의 전달경로를 결정한다.
        * ip는 인터넷 계층에 존재하는 프로토콜이다.
        * ip 프로토콜에는  ip주소를 부여하는 방법과 체계를 정의하고 있다, 주소를 기반으로 경로를 라우팅하는 방법을 정의하고 있다.
    3. 전송계층
        1. 인터넷계층의 ip가 해결한 목적지까지의 네트워크상의 경로에서 실제 데이터를 전송하는 역할을 한다.
        2. TCP와 UDP라는 데이터의 전달을 책임지는 프로토콜이 존재한다.
        3. ip는 하나의 패킷이 전달되는 과정에만 중심을 두고 설계되었기 때문에 여러패킷으로 나눠져 전달되는 데이터의 순서와 전송 자체는 신뢰할 수 없다.
        4. 데이터의 순서와 신뢰할 수 있는 데이터 전송을 보장하는 역할을 전송계층의 프로토콜이 맡는다.
        5. TCP
            * 연결지향 프로토콜이라 데이터를 전송/수신하기 전에 소켓을 통해 양쪽 연결이 성립
            * 연결이 성립되면 tcp는 데이터의 손실이나 중복 없이 목적지에 확실하게 전달
            * udp에 비해 프로토콜이 더 복잡하고 속도도 느리다.
            * udp에 비해 신뢰성있는 데이터 전송이 가능하다는 장점때문에 대부분의 응용계층 프로토콜 전송계층으로 tcp를 사용한다.
        6. UDP
            1. 비연결지향 프로토콜
            2. 전송한 데이터가 잘 전달 되었는지 확인하지 않고, 데이터 보내는 것으로 임무를 다함
            3. 조금 없어져도 괜찮은 경우, 스트리밍 서비스 같은 것에 적당한 프로토콜이다.
    4. 응용계층
        * 응용프로그램들이 데이터 통신을 하게 된다.
        * 메일 보내기, 파일 전송,사이트 접속 등 목적에 맞는 데이터 통신을 위한 프로토콜이 정의 되어있다
        * 소켓은 응용계층에서 개발되는 응용 프로그램에서 하위계층의 tcp/ip 의 역할을 감추어 준다.
        * 소켓을 사용하면 응용프로그램간의 성격에 따라 기설계된 응용프로토콜을 구현한 프로그램을 개발하거나 프로토콜을 설계하고 구현하면 된다.

## 3.소켓이란?

1. 소켓
    1. TCP/IP 프로토콜의 프로그래머 인터페이스
    2. 소켓생성 > 소켓을 통한 송수신 > 소켓 소멸
2. 소켓생성
    1. 소켓 유형
        1. SOCK_STREAM
            - tcp 통신소켓
            - stream 방식의 연결지향 소켓을 만든다.
            - 양방향
            - 전달된 순서대로 수신
            - 가별길이 stream
        2. SOCK_DATAGRAM
            - udp 통신소켓
            - datagram 방식의 비연결성 소켓
            - 양방향
            - 전달된 순서대로 수신x
            - 고정길이 메세지

## 4.포트번호

1. 포트의 필요성
    1. 여러계층을 통해 애플리케이션 계층으로 들어온 데이터를 해당 process에만 정확하게 전달할 필요가 있다.
    2. 하나의 컴퓨터에는 여러개의 process가 각각의 소켓을 사용하며 데이터 통신을 하고 있기 때문에 TCP에서는 각 소켓을 구분할 필요가 생긴다. 이때 소켓을 구분할 때 사용하는 것이 포트이다.

## 5.inetAddress 클래스

1. DNS
    * 도메인 주소를 ip로 반환한다.
    * ip주소에 대한 정보를 얻을 수 있다.
    * 컴퓨터 이름을 구할 수 있다.